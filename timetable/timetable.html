<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>作息时间表</title>
</head>
<body>
    <div id="action"></div>
    <audio id="audio" src="./bugu.wav"></audio>

    <script src="./node_modules/dateformat/lib/dateformat.js"></script>
    <script>
        const $action = document.querySelector('#action');
        const $audio = document.querySelector('#audio');

        const TIME_LIST = {
            '06:30': {
                action: '该起床了'
            },
            '7:25': {
                action: '该上学了'
            },
            '16:30': {
                action: '该写作业了'
            },
            '21:00': {
                action: '该洗澡了'
            },
            '21:30': {
                action: '该睡觉了'
            },
            '23:00': {
                action: '该睡觉了'
            }
        };

        const loop = () => {
            $action.innerHTML = '...';
            $audio.pause();

            const nowTime = dateFormat(new Date(), 'HH:MM');
            if (nowTime in TIME_LIST) {
                $action.innerHTML = TIME_LIST[nowTime].action;
                $audio.play();
            }

            setTimeout(() => {
                loop();
            }, 10 * 1000);
        };

        loop();
    </script>

    <style>
    html,body{
        margin:0;
        padding:0;
        height: 100%;
        display:flex;/*Flex布局*/
        flex-direction: row;
        justify-content: center;
    }
    #action{
        display:flex;/*Flex布局*/
        display: -webkit-flex; /* Safari */
        align-items: center;/*指定垂直居中*/
        box-flex: 1;
        font-size: 6.5rem;
        color: rgb(23, 228, 23);
    }
    </style>
</body>
</html>